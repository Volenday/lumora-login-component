"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const R=require("react"),t=require("@mui/material"),le=require("@react-oauth/google"),X=require("react-hook-form"),re=require("@hookform/resolvers"),me=require("yup"),xe=require("@mui/icons-material"),pe=require("@volenday/lumora-otp-component");function he(e){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const a in e)if(a!=="default"){const c=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,c.get?c:{enumerable:!0,get:()=>e[a]})}}return s.default=e,Object.freeze(s)}const B=he(me);var L={exports:{}},N={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oe;function fe(){if(oe)return N;oe=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function a(c,u,l){var i=null;if(l!==void 0&&(i=""+l),u.key!==void 0&&(i=""+u.key),"key"in u){l={};for(var m in u)m!=="key"&&(l[m]=u[m])}else l=u;return u=l.ref,{$$typeof:e,type:c,key:i,ref:u!==void 0?u:null,props:l}}return N.Fragment=s,N.jsx=a,N.jsxs=a,N}var W={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var te;function ge(){return te||(te=1,process.env.NODE_ENV!=="production"&&(function(){function e(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===H?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case _:return"Fragment";case M:return"Profiler";case w:return"StrictMode";case Y:return"Suspense";case V:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(typeof r.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),r.$$typeof){case b:return"Portal";case z:return r.displayName||"Context";case F:return(r._context.displayName||"Context")+".Consumer";case q:var n=r.render;return r=r.displayName,r||(r=n.displayName||n.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return n=r.displayName||null,n!==null?n:e(r.type)||"Memo";case C:n=r._payload,r=r._init;try{return e(r(n))}catch{}}return null}function s(r){return""+r}function a(r){try{s(r);var n=!1}catch{n=!0}if(n){n=console;var h=n.error,g=typeof Symbol=="function"&&Symbol.toStringTag&&r[Symbol.toStringTag]||r.constructor.name||"Object";return h.call(n,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",g),s(r)}}function c(r){if(r===_)return"<>";if(typeof r=="object"&&r!==null&&r.$$typeof===C)return"<...>";try{var n=e(r);return n?"<"+n+">":"<...>"}catch{return"<...>"}}function u(){var r=O.A;return r===null?null:r.getOwner()}function l(){return Error("react-stack-top-frame")}function i(r){if(A.call(r,"key")){var n=Object.getOwnPropertyDescriptor(r,"key").get;if(n&&n.isReactWarning)return!1}return r.key!==void 0}function m(r,n){function h(){E||(E=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",n))}h.isReactWarning=!0,Object.defineProperty(r,"key",{get:h,configurable:!0})}function x(){var r=e(this.type);return Z[r]||(Z[r]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),r=this.props.ref,r!==void 0?r:null}function d(r,n,h,g,$,U){var y=h.ref;return r={$$typeof:k,type:r,key:n,props:h,_owner:g},(y!==void 0?y:null)!==null?Object.defineProperty(r,"ref",{enumerable:!1,get:x}):Object.defineProperty(r,"ref",{enumerable:!1,value:null}),r._store={},Object.defineProperty(r._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(r,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(r,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:$}),Object.defineProperty(r,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:U}),Object.freeze&&(Object.freeze(r.props),Object.freeze(r)),r}function p(r,n,h,g,$,U){var y=n.children;if(y!==void 0)if(g)if(f(y)){for(g=0;g<y.length;g++)S(y[g]);Object.freeze&&Object.freeze(y)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else S(y);if(A.call(n,"key")){y=e(r);var P=Object.keys(n).filter(function(de){return de!=="key"});g=0<P.length?"{key: someKey, "+P.join(": ..., ")+": ...}":"{key: someKey}",ee[y+g]||(P=0<P.length?"{"+P.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,g,y,P,y),ee[y+g]=!0)}if(y=null,h!==void 0&&(a(h),y=""+h),i(n)&&(a(n.key),y=""+n.key),"key"in n){h={};for(var J in n)J!=="key"&&(h[J]=n[J])}else h=n;return y&&m(h,typeof r=="function"?r.displayName||r.name||"Unknown":r),d(r,y,h,u(),$,U)}function S(r){j(r)?r._store&&(r._store.validated=1):typeof r=="object"&&r!==null&&r.$$typeof===C&&(r._payload.status==="fulfilled"?j(r._payload.value)&&r._payload.value._store&&(r._payload.value._store.validated=1):r._store&&(r._store.validated=1))}function j(r){return typeof r=="object"&&r!==null&&r.$$typeof===k}var v=R,k=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),z=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),H=Symbol.for("react.client.reference"),O=v.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.prototype.hasOwnProperty,f=Array.isArray,T=console.createTask?console.createTask:function(){return null};v={react_stack_bottom_frame:function(r){return r()}};var E,Z={},Q=v.react_stack_bottom_frame.bind(v,l)(),K=T(c(l)),ee={};W.Fragment=_,W.jsx=function(r,n,h){var g=1e4>O.recentlyCreatedOwnerStacks++;return p(r,n,h,!1,g?Error("react-stack-top-frame"):Q,g?T(c(r)):K)},W.jsxs=function(r,n,h){var g=1e4>O.recentlyCreatedOwnerStacks++;return p(r,n,h,!0,g?Error("react-stack-top-frame"):Q,g?T(c(r)):K)}})()),W}var se;function ye(){return se||(se=1,process.env.NODE_ENV==="production"?L.exports=fe():L.exports=ge()),L.exports}var o=ye();const ie=()=>({companyName:"Lumora",tagline:"Secure authentication made simple",primaryColor:"#1976d2",secondaryColor:"#42a5f5",backgroundColor:"#ffffff",textColor:"#333333",logoHeight:48,logo:"https://via.placeholder.com/200x80/1976d2/ffffff?text=Lumora",forgetPasswordTitle:"Reset Your Password",forgetPasswordDescription:"Enter your email address and we will send you a secure link to reset your password.",forgetPasswordSuccessTitle:"Check Your Inbox",forgetPasswordSuccessDescription:"We have sent you a password reset link. Please check your email and follow the instructions to reset your password."}),ce=e=>({...ie(),...e}),ne=({brandConfig:e,title:s,subtitle:a})=>o.jsxs(t.Box,{sx:{textAlign:"center",mb:4},children:[e.logo&&o.jsx(t.Box,{sx:{mb:2},children:typeof e.logo=="string"?o.jsx("img",{src:e.logo,alt:e.companyName||"Company Logo",style:{height:e.logoHeight,maxWidth:"100%",objectFit:"contain"}}):e.logo}),s&&o.jsx(t.Typography,{variant:"h4",component:"h1",sx:{mb:1,color:e.textColor,fontWeight:600,fontSize:{xs:"1.75rem",sm:"2rem"}},children:s}),a&&o.jsx(t.Typography,{variant:"body1",sx:{color:e.textColor,opacity:.7,fontSize:"0.95rem"},children:a})]});function ue(e,s,a){return a===void 0&&(a={}),function(c,u,l){try{return Promise.resolve((function(i,m){try{var x=(s!=null&&s.context&&process.env.NODE_ENV==="development"&&console.warn("You should not used the yup options context. Please, use the 'useForm' context object instead"),Promise.resolve(e[a.mode==="sync"?"validateSync":"validate"](c,Object.assign({abortEarly:!1},s,{context:u}))).then(function(d){return l.shouldUseNativeValidation&&re.validateFieldsNatively({},l),{values:a.raw?Object.assign({},c):d,errors:{}}}))}catch(d){return m(d)}return x&&x.then?x.then(void 0,m):x})(0,function(i){if(!i.inner)throw i;return{values:{},errors:re.toNestErrors((m=i,x=!l.shouldUseNativeValidation&&l.criteriaMode==="all",(m.inner||[]).reduce(function(d,p){if(d[p.path]||(d[p.path]={message:p.message,type:p.type}),x){var S=d[p.path].types,j=S&&S[p.type];d[p.path]=X.appendErrors(p.path,x,d,p.type,j?[].concat(j,p.message):p.message)}return d},{})),l)};var m,x}))}catch(i){return Promise.reject(i)}}}const we=B.object({email:B.string().email("Please enter a valid email address").required("Email is required"),password:B.string().min(6,"Password must be at least 6 characters").required("Password is required")}),ve=({brandConfig:e,loginState:s,onSubmit:a,onForgetPassword:c,enableForgetPassword:u=!0})=>{const[l,i]=R.useState(!1),{register:m,handleSubmit:x,formState:{errors:d}}=X.useForm({resolver:ue(we)}),p=s==="loading"||s==="google-loading";return o.jsx(t.Box,{component:"form",onSubmit:x(a),children:o.jsxs(t.Stack,{spacing:3,children:[o.jsx(t.TextField,{...m("email"),fullWidth:!0,label:"Email Address",type:"email",placeholder:"Enter your email",error:!!d.email,helperText:d.email?.message,disabled:p,sx:{"& .MuiOutlinedInput-root":{borderRadius:1.4,"&:hover fieldset":{borderColor:e.primaryColor},"&.Mui-focused fieldset":{borderColor:e.primaryColor}},"& .MuiInputLabel-root.Mui-focused":{color:e.primaryColor}}}),o.jsx(t.TextField,{...m("password"),fullWidth:!0,label:"Password",type:l?"text":"password",placeholder:"Enter your password",error:!!d.password,helperText:d.password?.message,disabled:p,sx:{"& .MuiOutlinedInput-root":{borderRadius:1.4,"&:hover fieldset":{borderColor:e.primaryColor},"&.Mui-focused fieldset":{borderColor:e.primaryColor}},"& .MuiInputLabel-root.Mui-focused":{color:e.primaryColor}},slotProps:{input:{endAdornment:o.jsx(t.Button,{size:"small",onClick:()=>i(!l),disabled:p,sx:{color:e.primaryColor,textTransform:"none",fontWeight:500,"&:hover":{backgroundColor:`${e.primaryColor}10`}},children:l?"Hide":"Show"})}}}),o.jsx(t.Button,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:p,sx:{py:1.5,backgroundColor:e.primaryColor,borderRadius:1.4,textTransform:"none",fontWeight:600,fontSize:"1rem",boxShadow:`0 4px 12px ${e.primaryColor}30`,"&:hover":{backgroundColor:e.secondaryColor,boxShadow:`0 6px 16px ${e.primaryColor}40`},"&:disabled":{backgroundColor:`${e.primaryColor}60`}},children:s==="loading"?o.jsx(t.CircularProgress,{size:24,color:"inherit"}):"Sign In"}),u&&c&&o.jsx(t.Box,{textAlign:"right",sx:{mt:1},children:o.jsx(t.Button,{variant:"text",onClick:c,disabled:p,sx:{textTransform:"none",color:e.primaryColor,fontWeight:500,fontSize:"0.9rem","&:hover":{backgroundColor:`${e.primaryColor}08`}},children:"Forgot Password?"})})]})})},je=({brandConfig:e,loginState:s,onClick:a,showDivider:c=!1})=>{const u=s==="loading"||s==="google-loading";return o.jsxs(o.Fragment,{children:[c&&o.jsx(t.Divider,{sx:{my:1},children:o.jsx(t.Typography,{variant:"body2",sx:{color:e.textColor,opacity:.6,px:2,fontWeight:500},children:"OR"})}),o.jsx(t.Button,{fullWidth:!0,variant:"outlined",size:"large",startIcon:s==="google-loading"?o.jsx(t.CircularProgress,{size:20,color:"inherit"}):o.jsx(xe.Google,{}),onClick:a,disabled:u,sx:{py:1.5,borderRadius:1.4,textTransform:"none",fontWeight:500,fontSize:"1rem",borderColor:e.textColor+"30",color:e.textColor,"&:hover":{borderColor:e.primaryColor,backgroundColor:`${e.primaryColor}08`,color:e.textColor},"&:active":{borderColor:e.primaryColor,backgroundColor:`${e.primaryColor}12`,color:e.textColor},"&:disabled":{borderColor:e.textColor+"20",color:e.textColor+"60"},"&:focus":{borderColor:e.textColor+"30",color:e.textColor},"&.MuiButton-root":{borderColor:e.textColor+"30",color:e.textColor}},children:s==="google-loading"?"Signing in...":"Continue with Google"})]})},be=B.object({email:B.string().email("Please enter a valid email address").required("Email is required")}),Te=({brandConfig:e,loginState:s,error:a,onSubmit:c,onBackToLogin:u,onCloseError:l})=>{const{register:i,handleSubmit:m,formState:{errors:x}}=X.useForm({resolver:ue(be)}),d=s==="forget-password-loading";return o.jsxs(o.Fragment,{children:[a&&o.jsx(t.Alert,{severity:"error",sx:{mb:3},onClose:l,children:a.message}),o.jsxs(t.Box,{sx:{textAlign:"center",mb:3},children:[o.jsx(t.Typography,{variant:"h5",component:"h1",sx:{color:e.textColor,fontWeight:600,fontSize:{xs:"1.5rem",sm:"1.75rem"},mb:2},children:e.forgetPasswordTitle||"Reset Password"}),o.jsx(t.Typography,{variant:"body1",sx:{color:e.textColor,opacity:.8,mb:3,lineHeight:1.6},children:e.forgetPasswordDescription||"Enter your email address and we will send you a link to reset your password."})]}),o.jsx(t.Box,{component:"form",onSubmit:m(c),children:o.jsxs(t.Stack,{spacing:3,children:[o.jsx(t.TextField,{...i("email"),fullWidth:!0,label:"Email Address",type:"email",placeholder:"Enter your email",error:!!x.email,helperText:x.email?.message,disabled:d,sx:{"& .MuiOutlinedInput-root":{borderRadius:1.4,"&:hover fieldset":{borderColor:e.primaryColor},"&.Mui-focused fieldset":{borderColor:e.primaryColor}},"& .MuiInputLabel-root.Mui-focused":{color:e.primaryColor}}}),o.jsx(t.Button,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:d,sx:{py:1.5,backgroundColor:e.primaryColor,borderRadius:1.4,textTransform:"none",fontWeight:600,fontSize:"1rem",boxShadow:`0 4px 12px ${e.primaryColor}30`,"&:hover":{backgroundColor:e.secondaryColor,boxShadow:`0 6px 16px ${e.primaryColor}40`},"&:disabled":{backgroundColor:`${e.primaryColor}60`}},children:d?o.jsx(t.CircularProgress,{size:24,color:"inherit"}):"Send Reset Link"}),o.jsx(t.Button,{fullWidth:!0,variant:"text",onClick:u,disabled:d,sx:{textTransform:"none",color:e.primaryColor,fontWeight:500,"&:hover":{backgroundColor:`${e.primaryColor}08`}},children:"Back to Sign In"})]})})]})},Ee=({brandConfig:e,loginState:s,onVerify:a,onVerifySuccess:c,onVerifyError:u,onResend:l,onBackToSignIn:i})=>o.jsxs(o.Fragment,{children:[o.jsxs(t.Box,{sx:{textAlign:"center",mb:3},children:[e.logo&&o.jsx(t.Box,{sx:{mb:2},children:typeof e.logo=="string"?o.jsx("img",{src:e.logo,alt:e.companyName||"Company Logo",style:{height:e.logoHeight,maxWidth:"100%",objectFit:"contain"}}):e.logo}),o.jsx(t.Typography,{variant:"h5",component:"h1",sx:{color:e.textColor,fontWeight:600,fontSize:{xs:"1.5rem",sm:"1.75rem"}},children:"Verify Your Identity"})]}),o.jsx(pe.LumoraOTP,{onVerify:a,onVerifySuccess:c,onVerifyError:u,onResend:l,instructionText:"Please enter the 6-digit code sent to your email",showResend:!0,resendCooldown:60,expirationTime:300,showExpirationTimer:!0}),s==="otp-error"&&o.jsx(t.Box,{textAlign:"center",sx:{mt:3},children:o.jsx(t.Button,{variant:"text",onClick:i,sx:{textTransform:"none",color:e.primaryColor,fontWeight:500,"&:hover":{backgroundColor:`${e.primaryColor}08`}},children:"Back to Sign In"})})]}),ke=({brandConfig:e,onBackToLogin:s})=>o.jsxs(o.Fragment,{children:[o.jsxs(t.Box,{sx:{textAlign:"center",mb:3},children:[e.logo&&o.jsx(t.Box,{sx:{mb:2},children:typeof e.logo=="string"?o.jsx("img",{src:e.logo,alt:e.companyName||"Company Logo",style:{height:e.logoHeight,maxWidth:"100%",objectFit:"contain"}}):e.logo}),o.jsx(t.Typography,{variant:"h5",component:"h1",sx:{color:e.textColor,fontWeight:600,fontSize:{xs:"1.5rem",sm:"1.75rem"},mb:2},children:e.forgetPasswordSuccessTitle||"Check Your Email"}),o.jsx(t.Typography,{variant:"body1",sx:{color:e.textColor,opacity:.8,mb:3,lineHeight:1.6},children:e.forgetPasswordSuccessDescription||"We have sent you a password reset link. Please check your email and follow the instructions to reset your password."})]}),o.jsx(t.Box,{textAlign:"center",sx:{mt:3},children:o.jsx(t.Button,{variant:"contained",onClick:s,sx:{py:1.5,px:4,backgroundColor:e.primaryColor,borderRadius:1.4,textTransform:"none",fontWeight:600,fontSize:"1rem",boxShadow:`0 4px 12px ${e.primaryColor}30`,"&:hover":{backgroundColor:e.secondaryColor,boxShadow:`0 6px 16px ${e.primaryColor}40`}},children:"Back to Sign In"})})]}),D=({children:e,brandConfig:s})=>o.jsx(t.Box,{sx:{width:{xs:"100%",sm:"auto"},height:{xs:"100vh",sm:"auto"},minHeight:{xs:"100vh",sm:"auto"},margin:{xs:0,sm:"auto"},maxWidth:{xs:"100%",sm:"600px"},mt:{xs:0,sm:4},boxShadow:{xs:"none",sm:"0 8px 32px rgba(0, 0, 0, 0.12)"},borderRadius:{xs:0,sm:2},border:{xs:"none",sm:"1px solid rgba(0, 0, 0, 0.08)"},background:s.backgroundColor,display:"flex",flexDirection:"column",overflowX:"hidden",boxSizing:"border-box"},children:o.jsx(t.Box,{sx:{p:{xs:3,sm:4},flex:1,display:"flex",flexDirection:"column",width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:e})}),Se=({onGoogleLogin:e,onLoginError:s,setLoginState:a,setError:c,googleLoginRef:u})=>{const l=le.useGoogleLogin({onSuccess:i=>{a("google-loading"),c(null);try{const m={access_token:i.access_token,expires_in:i.expires_in,scope:i.scope,token_type:i.token_type};e(m),setTimeout(()=>{a("otp-required")},1e3)}catch(m){const x=m;c({message:x.message,type:"google"}),a("error"),s(x)}},onError:i=>{c({message:i.error_description||"Google sign-in failed",type:"google"}),a("error"),s(new Error(i.error_description||"Google sign-in failed"))}});return R.useEffect(()=>{u.current=l},[l,u]),null},ae=({onLocalLogin:e,onGoogleLogin:s,onLoginSuccess:a,onLoginError:c,onForgetPassword:u,enableRecaptcha:l=!1,recaptchaSiteKey:i,googleClientId:m,enableGoogleSignIn:x=!0,enableLocalSignIn:d=!0,enableForgetPassword:p=!0,branding:S})=>{const[j,v]=R.useState("idle"),[k,b]=R.useState(null),_=R.useRef(null),w=ce(S);if(!d&&!x)throw new Error("At least one sign-in method must be enabled (enableLocalSignIn or enableGoogleSignIn)");if(l&&!i)throw new Error("recaptchaSiteKey is required when enableRecaptcha is true");const M=()=>window.grecaptcha.execute(i,{action:"login"}).catch(()=>{throw new Error("reCAPTCHA verification failed")}),F=async()=>{if(!l||!i)return"";if(typeof window>"u"||!window.grecaptcha)throw new Error("reCAPTCHA is not loaded");return new Promise((f,T)=>{const E=()=>{M().then(f).catch(T)};window.grecaptcha.ready(E)})},z=async f=>{v("loading"),b(null);try{l&&await F(),await e(f.email,f.password),v("otp-required")}catch(T){const E=T;b({message:E.message,type:"local"}),v("error"),c(E)}},q=()=>{_.current&&_.current()},Y=async f=>{if(await new Promise(T=>setTimeout(T,1e3)),f==="123456")return{success:!0,token:"verified-token"};throw new Error("Invalid OTP code")},V=f=>{v("success"),a(f)},G=f=>{b({message:f.message,type:"otp"}),v("otp-error")},C=()=>{console.log("Resending OTP..."),k&&k.type==="otp"&&b(null)},I=()=>{b(null),v("idle")},H=async f=>{if(!u){b({message:"Forget password functionality is not available",type:"forget-password"});return}v("forget-password-loading"),b(null);try{l&&await F(),await u(f.email),v("forget-password-success")}catch(T){const E=T;b({message:E.message,type:"forget-password"}),v("forget-password"),c(E)}},O=()=>{b(null),v("forget-password")},A=()=>{b(null),v("idle")};return R.useEffect(()=>{if(l&&i&&typeof window<"u"){const f=document.createElement("script");f.src=`https://www.google.com/recaptcha/enterprise.js?render=${i}`,f.async=!0,f.defer=!0,document.head.appendChild(f)}},[l,i]),j==="otp-required"||j==="otp-error"?o.jsx(D,{brandConfig:w,children:o.jsx(Ee,{brandConfig:w,loginState:j,onVerify:Y,onVerifySuccess:V,onVerifyError:G,onResend:C,onBackToSignIn:I})}):j==="forget-password-success"?o.jsx(D,{brandConfig:w,children:o.jsx(ke,{brandConfig:w,onBackToLogin:A})}):j==="forget-password"||j==="forget-password-loading"?o.jsxs(D,{brandConfig:w,children:[o.jsx(ne,{brandConfig:w}),o.jsx(Te,{brandConfig:w,loginState:j,error:k,onSubmit:H,onBackToLogin:A,onCloseError:()=>b(null)})]}):o.jsxs(D,{brandConfig:w,children:[o.jsx(ne,{brandConfig:w,title:w.companyName?`Welcome to ${w.companyName}`:"Sign In",subtitle:w.tagline}),k&&o.jsx(t.Alert,{severity:"error",sx:{mb:3},onClose:()=>b(null),children:k.message}),o.jsxs(t.Stack,{spacing:3,children:[d&&o.jsx(ve,{brandConfig:w,loginState:j,onSubmit:z,onForgetPassword:u?O:void 0,enableForgetPassword:p}),x&&m&&o.jsx(je,{brandConfig:w,loginState:j,onClick:q,showDivider:d}),j==="error"&&o.jsx(t.Button,{fullWidth:!0,variant:"text",onClick:I,sx:{mt:1,color:w.primaryColor,textTransform:"none",fontWeight:500,"&:hover":{backgroundColor:`${w.primaryColor}08`}},children:"Try Again"})]}),x&&m&&o.jsx(Se,{onGoogleLogin:s,onLoginError:c,setLoginState:v,setError:b,googleLoginRef:_})]})},_e=e=>{const{googleClientId:s,enableGoogleSignIn:a}=e;return a&&s?o.jsx(le.GoogleOAuthProvider,{clientId:s,children:o.jsx(ae,{...e})}):o.jsx(ae,{...e})};exports.LumoraLogin=_e;exports.getBrandingConfig=ce;exports.getDefaultBranding=ie;
